# Отчёт по лабораторной работе
**ФИО:** Милохов Антон Андреевич
**Группа:** МОАИС-0-25/1

**Тема:** Разработка консольного приложения для обработки JSON-данных сенсоров на C++


---

## 1. Постановка задачи и системное окружение

**Цель работы:** проектирование и реализация консольного приложения для десериализации, валидации и аналитической обработки потока данных в формате JSON.

**Спецификация окружения:**

* **Инструментарий:** MS Visual Studio 2022 (C++17, MSVC).
* **Внешние зависимости:** [nlohmann/json] — библиотека для работы с древовидными структурами данных.
* **Платформа:** Windows 10.

---

## 2. Архитектура решения

### Организация файловой системы

Проект приведён к модульной структуре для упрощения масштабируемости:

* `src/` — реализация бизнес-логики.
* `include/` — описание интерфейсов (заголовочные файлы).
* `data/` & `tests/` — наборы входных данных и модульные проверки.
* `docs/` — техническая документация и Bench Report.

### Модель данных

Объект телеметрии представляет собой структуру со строгим типом полей:

1. **Sensor** (string): идентификатор источника.
2. **TS** (ISO 8601): временная метка события.
3. **Value** (double): числовой показатель в диапазоне .

---

## 3. Описание реализованных алгоритмов

### 3.1. Многоуровневая валидация

Программа осуществляет каскадную проверку входного потока:

* **Синтаксическая:** проверка корректности формата JSON.
* **Типизация:** контроль наличия обязательных полей и соответствия типов данных.
* **Логическая:** выявление дубликатов `ts` через ассоциативные контейнеры и контроль допустимых диапазонов `value`.

### 3.2. Статистический модуль и поиск аномалий

Для обработки числового ряда применяются следующие методы:

* **Агрегация:** вычисление экстремумов (min/max), среднего арифметического и медианы.
* **Детекция аномалий:** используется метод **скользящего окна (Moving Window)** размера . Точка признается аномальной при отклонении от локального среднего более чем на 50% в любую сторону.

---

## 4. Программный интерфейс (API)

Основные протоколы взаимодействия между модулями системы:

```cpp
// Загрузка данных из внешней среды
json readJsonFile(const string& filename);

// Фильтрация и верификация записей
void validateData(const json& data);

// Аналитический движок с поддержкой временных фильтров
void analyzeSensorData(const json& data, const string& sensorFilter, int windowSize, bool timecheck);

```

---

## 5. Анализ производительности (Benchmarking)

В ходе тестирования была выявлена линейная зависимость времени обработки от объема входных данных .

| Объем данных (файлов) | Время анализа (мс) | Размер окна | Примечание |
| --- | --- | --- | --- |
| 100 | 6 680 | 20 | Базовая производительность |
| 1 000 | 54 181 | 20 | Стабильный рост нагрузки |
| 10 000 | 514 324 | 20 | Пороговое значение для однопоточного режима |

---

## 6. Итоги и векторы развития

**Результаты:**

1. Реализован надежный парсинг и обработка JSON-структур.
2. Система корректно обрабатывает исключительные ситуации (отсутствие файлов, некорректные типы).
3. Интерфейс обеспечивает удобное взаимодействие пользователя с аналитическим движком через систему меню.

**Рекомендации по оптимизации:**

* **Архитектурная:** использование `std::async` или `std::thread` для параллельной обработки независимых файлов, что кратно сократит время анализа на многоядерных системах.
* **Экспорт:** расширение функционала до поддержки форматов CSV и XML.

